<!-- layouts/_default/list.html OR layouts/figures/list.html -->
{{ define "main" }}
  <main>
    <h1>{{ .Title }}</h1>

    <!-- Set up pagination -->
    {{ $paginator := .Paginate (where .Pages "Type" "figures") }}
    
    <ul>
      {{ range $paginator.Pages }}
        <li>
          <a href="{{ .RelPermalink }}">{{ .Title }}</a>
        </li>
      {{ end }}
    </ul>

    <!-- Pagination controls -->
    <nav class="pagination">
      {{ if $paginator.HasPrev }}
        <a href="{{ $paginator.Prev.URL }}">« Prev</a>
      {{ end }}

      {{ range $paginator.Pagers }}
        <a href="{{ .URL }}" class="{{ if eq . $paginator }}current{{ end }}">
          {{ .PageNumber }}
        </a>
      {{ end }}

      {{ if $paginator.HasNext }}
        <a href="{{ $paginator.Next.URL }}">Next »</a>
      {{ end }}
    </nav>
  </main>
{{ end }}
